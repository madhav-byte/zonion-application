(this.webpackJsonpzonions=this.webpackJsonpzonions||[]).push([[0],{137:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),s=n.n(a),r=n(31),i=n.n(r),o=(n(63),n(18)),l=n(6);n(64);var j=function(){return Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"About page"})})},u=n(20),d=n.n(u),b=n(28),h=n(4),O=(n(66),n(16)),m=n.n(O),x=n(39),f=n.n(x);var g=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(h.a)(r,2),o=i[0],l=i[1],j=Object(a.useState)(),u=Object(h.a)(j,2),O=u[0],x=u[1],g=Object(a.useState)(""),p=Object(h.a)(g,2),v=p[0],N=p[1],S=Object(a.useState)(""),C=Object(h.a)(S,2),w=C[0],k=C[1],T=Object(a.useState)([]),y=Object(h.a)(T,2),A=y[0],R=y[1],D=Object(a.useState)(""),E=Object(h.a)(D,2),I=E[0],L=E[1],U=Object(a.useState)(!1),F=Object(h.a)(U,2),z=(F[0],F[1]),M=Object(a.useState)(!1),P=Object(h.a)(M,2),$=(P[0],P[1]),B=Object(a.useState)((new Date).toLocaleString()),H=Object(h.a)(B,2),J=H[0],Z=H[1],W=Object(a.useState)(""),_=Object(h.a)(W,2),q=_[0],G=_[1],K=Object(a.useState)(!0),Q=Object(h.a)(K,2),V=(Q[0],Q[1],Object(a.useState)(!0)),X=Object(h.a)(V,2),Y=(X[0],X[1],Object(a.useState)(!1)),ee=Object(h.a)(Y,2),te=ee[0],ne=ee[1],ce=Object(a.useState)(!1),ae=Object(h.a)(ce,2),se=ae[0],re=ae[1],ie=Object(a.useState)(!0),oe=Object(h.a)(ie,2),le=oe[0],je=oe[1],ue=Object(a.useState)(""),de=Object(h.a)(ue,2),be=de[0],he=de[1];function Oe(){var e=!1;return 0!=n.length&&n.match(/^[A-Za-z0-9\s]+$/)?(n.length>0&&(e=!0),0==o.length?(alert("enter valid address"),e=!1):(o.length>0&&(e=!0),O.match(/^[789]\d{9}$/)?(O.match("^[789]d{9}$")&&(e=!0),e):(alert("please enter correct number starting from 7,9,8 "),e=!1))):(alert("enter valid name"),e=!1)}var me=function(){m.a.get("http://localhost:1337/restaurent").then((function(e){console.log(e.data),R(e.data)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){me()}),[]);var xe=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!Oe()){e.next=14;break}if(!z||!I){e.next=9;break}return t.preventDefault(),console.log("last updated=",J),e.next=7,m.a.put("http://localhost:1337/restaurent/".concat(I),{restaurentName:n,address:o,phone:O,openningTime:v,closingTime:w,lastUpdated:J,srcImg:q,activate:le}).then((function(e){console.log(e.data),he("restaurent edit successful...!!!"),me()})).catch((function(e){return console.log(e)}));case 7:e.next=12;break;case 9:return Z((new Date).toLocaleTimeString()),e.next=12,m.a.post("http://localhost:1337/restaurent",{restaurentName:n,address:o,phone:O,openningTime:v,closingTime:w,lastUpdated:J,srcImg:q,activate:le}).then((function(e){console.log(e.data),he("New Restaurant Added..."),me()})).catch((function(e){return console.log(e)}));case 12:e.next=15;break;case 14:alert("please enter valid information...");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container ",children:[Object(c.jsxs)("form",{className:"form-formation",children:[Object(c.jsxs)("div",{className:"form-group ",children:[Object(c.jsx)("h1",{children:"Add New Restaurant"}),Object(c.jsx)("input",{className:"form-align",placeholder:"Enter Restaurant Name ",type:"text",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("textarea",{className:"form-align",placeholder:"Enter Address",type:"text",value:o,onChange:function(e){return l(e.target.value)}})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{className:"form-align",type:"number",placeholder:"Enter phone Number",value:O,onChange:function(e){return x(e.target.value)}})}),Object(c.jsxs)("div",{className:"form-group",children:["Openning-Time"," ",se?Object(c.jsx)(f.a,{openningTime:v,onChange:function(e){return N(e.formatted24)},onDoneClick:function(){return re(!1)}}):Object(c.jsx)("button",{onClick:function(){return re(!0)},children:"Open"}),Object(c.jsxs)("span",{children:["time is",v," AM "]})]}),Object(c.jsxs)("div",{className:"form-group",children:["Closing-Time"," ",te?Object(c.jsx)(f.a,{closingTime:w,onChange:function(e){return k(e.formatted24)},onDoneClick:function(){return ne(!1)}}):Object(c.jsx)("button",{onClick:function(){return ne(!0)},children:"Open"}),Object(c.jsxs)("span",{children:["time is",w," PM "]})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{for:"restaurantImg",children:"Select an image file:"}),Object(c.jsx)("input",{type:"file",id:"restaurantImg",name:"restaurantImg",onChange:function(e){return function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(){console.log("RESULT",n.result),G(n.result)};var c=n.readAsDataURL(t);console.log("asd",c)}(e)}}),Object(c.jsx)("br",{}),q?Object(c.jsx)("img",{src:q,alt:"Menu-image/card",width:"500",height:"600"}):null]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{onClick:xe,className:"btn btn-primary",children:"submit"})}),Object(c.jsxs)("h2",{children:[" Acknowledegement:",be," "]})]}),Object(c.jsxs)("table",{className:"table table-hover table-dark",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Restaurent"}),Object(c.jsx)("th",{children:"Address"}),Object(c.jsx)("th",{children:"OpenningTime"}),Object(c.jsx)("th",{children:"ClosingTime"}),Object(c.jsx)("th",{children:"last_Updated"}),Object(c.jsx)("th",{children:"Activate"})]})}),Object(c.jsx)("tbody",{children:A.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[" ",e.restaurentName," "]}),Object(c.jsxs)("td",{children:[" ",e.address," "]}),Object(c.jsxs)("td",{children:[" ",e.openningTime," "]}),Object(c.jsxs)("td",{children:[" ",e.closingTime," "]}),Object(c.jsxs)("td",{children:[" ",e.lastUpdated," "]}),Object(c.jsxs)("td",{children:[Object(c.jsx)("button",{className:e.activate?"btn btn-outline-success":"btn btn-outline-danger",onClick:function(){return t=e.activate,void je(!t);var t},children:e.activate?"Activated":"deactivated"})," "]}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return s((t=e).restaurentName),l(t.address),x(t.phone),N(t.openningTime),k(t.closingTime),L(t.id),z(!0),$(!0),Z((new Date).toLocaleString()),G(t.srcImg),je(le),void console.log("while editing",le);var t},children:"edit"})}),Object(c.jsx)("td",{children:Object(c.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){return t=e.id,void m.a.delete("http://localhost:1337/restaurent/".concat(t)).then((function(e){console.log(e.data),he("Restaurant deleted..."),me()})).catch((function(e){return console.log(e)}));var t},children:"delete"})})]})}))})]})]})};var p=function(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),l=Object(h.a)(i,2),j=(l[0],l[1]);return Object(a.useEffect)((function(){m.a.get("http://localhost:1337/restaurent").then((function(e){console.log(e.data),r(e.data),j(e.data.id)})).catch((function(e){return console.log(e)}))}),[]),Object(c.jsxs)("div",{className:"HomeContainer",children:[Object(c.jsx)("h1",{children:"Welcome to home"}),s.filter((function(e){return!0===e.activate})).map((function(e){return Object(c.jsxs)("nav",{children:[Object(c.jsxs)(o.b,{to:"/details/".concat(e.id),children:[Object(c.jsxs)("h3",{children:[" ",e.restaurentName," "]})," "]})," "]})}))]})};var v=function(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(""),o=Object(h.a)(i,2),l=o[0],j=o[1],u=Object(a.useState)("admin@1234.com"),d=Object(h.a)(u,2),b=d[0],O=(d[1],Object(a.useState)("admin123")),m=Object(h.a)(O,2),x=m[0],f=(m[1],function(){s==b&&l==x?(console.log("admin verified"),e.history.push("/addRestaurent")):console.log("unauthorized")});return Object(c.jsxs)("div",{className:" loginContainer container ",children:[Object(c.jsxs)("div",{"max-width":"100px",children:["Email ",Object(c.jsx)("input",{type:"text",className:"form-control",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(c.jsxs)("div",{children:["password ",Object(c.jsx)("input",{type:"password",className:"form-control",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{class:"btn btn-primary",onClick:function(){return f()},children:"submit"})})]})};var N=function(){return Object(c.jsx)("div",{className:"topnav",children:Object(c.jsxs)("nav",{children:[Object(c.jsxs)(o.b,{className:".active",to:"/",children:[Object(c.jsx)("h4",{children:" Home "})," "]}),Object(c.jsxs)(o.b,{to:"/login",children:[" ",Object(c.jsx)("h4",{children:" Login "})," "]}),Object(c.jsxs)(o.b,{to:"/about",children:[" ",Object(c.jsx)("h4",{children:" About"}),"  "]})]})})};var S=function(e){var t=e.match,n=Object(a.useState)({}),s=Object(h.a)(n,2),r=s[0],i=s[1];Object(a.useEffect)(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)}))),[]);var o=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:1337/restaurent/".concat(t.params.id)).then((function(e){console.log(e.data),i(e.data),console.log(r)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"restaurantContainer",children:[Object(c.jsx)("h1",{children:"Restaurent Details"}),Object(c.jsx)("table",{children:Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:["Restaurent Name ",Object(c.jsxs)("h2",{children:[r.restaurentName," "]}),"addres:- ",Object(c.jsxs)("h3",{children:[r.address," "]}),"opens at:- ",Object(c.jsxs)("h3",{children:[r.openningTime," Am "]}),"closes at:- ",Object(c.jsxs)("h3",{children:[r.closingTime," Pm "]})]}),"menu :-",Object(c.jsx)("img",{src:r.srcImg,width:"250px",height:"250px"}),Object(c.jsx)("td",{})]})})]})};n(136);var C=function(){return Object(c.jsx)(o.a,{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Zonions"}),Object(c.jsx)(N,{}),Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/",exact:!0,component:p}),Object(c.jsx)(l.a,{path:"/login",component:v}),Object(c.jsx)(l.a,{path:"/about",component:j}),Object(c.jsx)(l.a,{path:"/addRestaurent",component:g}),Object(c.jsx)(l.a,{path:"/details/:id",component:S})]})]})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,140)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById("root")),w()},63:function(e,t,n){},64:function(e,t,n){}},[[137,1,2]]]);
//# sourceMappingURL=main.20f7a544.chunk.js.map